<section class="cw-v2 cw-actor">
  <header class="flexrow">
    <div class="flexcol" style="gap:0.25rem;">
      <label>{{localize "CW.Name"}}</label>
      <input type="text" name="name" value="{{actor.name}}">
    </div>
    <div class="flexcol" style="gap:0.25rem;">
      <label>{{localize "CW.Player"}}</label>
      <input type="text" name="system.bio.player" value="{{system.bio.player}}">
    </div>
    <div class="flexcol" style="gap:0.25rem;">
      <label>{{localize "CW.Gravity"}}</label>
      <div class="flexrow" style="gap:0.25rem;">
        <select name="system.bio.gravityHome">
          {{selectOptions gravities selected=system.bio.gravityHome}}
        </select>
        <select name="system.bio.gravityCurrent">
          {{selectOptions gravities selected=system.bio.gravityCurrent}}
        </select>
      </div>
    </div>
  </header>

  <section class="grid-attributes">
    {{#each attributes as |attr key|}}
      <div class="attr">
        <label>{{attr.label}}</label>
        <input type="number" min="0" name="system.attributes.{{key}}.value" value="{{attr.value}}">
      </div>
    {{/each}}
  </section>

  <section class="skills">
    <h3>{{localize "CW.Skills"}}</h3>
    <div class="skill-list">
      {{#each skills as |sk key|}}
        <div class="skill-row" data-skill="{{key}}">
          <span class="name">{{sk.label}}</span>
          <input type="number" min="0" name="system.skills.{{key}}.value" value="{{sk.value}}">
          <label class="checkbox">
            <input type="checkbox" name="system.skills.{{key}}.specialized" {{checked sk.specialized}}>
            {{localize "CW.Specialized"}}
          </label>
          <select class="attr-select" name="system.skills.{{key}}.attr">
            {{#each ../attrOrder as |a|}}
              <option value="{{a}}" {{#if (eq a (lookup sk "attr"))}}selected{{/if}}>{{a}}</option>
            {{/each}}
          </select>
          <button type="button" data-action="rollSkill" data-skill="{{key}}">{{localize "CW.Roll"}}</button>
        </div>
      {{/each}}
    </div>
  </section>

  <section class="health">
    <h3>{{localize "CW.Health"}}</h3>
    <div class="flexrow" style="gap:0.5rem;">
      <label>Current</label>
      <input type="number" name="system.health.current" value="{{system.health.current}}">
      <label>Max</label>
      <input type="number" name="system.health.max" value="{{system.health.max}}">
      <button type="button" data-action="hitLoc">{{localize "CW.HitLocation"}}</button>
      <span class="pill">{{system.health.location}}</span>
    </div>
  </section>
</section>
